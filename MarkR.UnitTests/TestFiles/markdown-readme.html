<p><h1>Markdown</h1></p>

<p>Version 1.0.1 - Tue 14 Dec 2004</p>

<p>by John Gruber  <br />
<a href="http://daringfireball.net/">http://daringfireball.net/</a></p>

<p><h2>Introduction</h2></p>

<p>Markdown is a text-to-HTML conversion tool for web writers. Markdown<br />
allows you to write using an easy-to-read, easy-to-write plain text<br />
format, then convert it to structurally valid XHTML (or HTML).</p>

<p>Thus, "Markdown" is two things: a plain text markup syntax, and a<br />
software tool, written in Perl, that converts the plain text markup <br />
to HTML.</p>

<p>Markdown works both as a Movable Type plug-in and as a standalone Perl<br />
script -- which means it can also be used as a text filter in BBEdit<br />
(or any other application that supporst filters written in Perl).</p>

<p>Full documentation of Markdown's syntax and configuration options is<br />
available on the web: <a href="http://daringfireball.net/projects/markdown/">http://daringfireball.net/projects/markdown/</a>.<br />
(Note: this readme file is formatted in Markdown.)</p>

<p><h2>Installation and Requirements</h2></p>

<p>Markdown requires Perl 5.6.0 or later. Welcome to the 21st Century.<br />
Markdown also requires the standard Perl library module <code>Digest::MD5</code>. </p>

<p><h3>Movable Type</h3></p>

<p>Markdown works with Movable Type version 2.6 or later (including <br />
MT 3.0 or later).</p>

<p><ol>
<li><p>Copy the "Markdown.pl" file into your Movable Type "plugins"<br /><br />
directory. The "plugins" directory should be in the same directory<br /><br />
as "mt.cgi"; if the "plugins" directory doesn't already exist, use<br /><br />
your FTP program to create it. Your installation should look like<br /><br />
this:</p></p>

<pre><code>
(mt home)/plugins/Markdown.pl
</code></pre></li>
<li><p>Once installed, Markdown will appear as an option in Movable Type's<br />
Text Formatting pop-up menu. This is selectable on a per-post basis.<br />
Markdown translates your posts to HTML when you publish; the posts<br />
themselves are stored in your MT database in Markdown format.</p></li>
<li><p>If you also install SmartyPants 1.5 (or later), Markdown will offer<br />
a second text formatting option: "Markdown with SmartyPants". This<br />
option is the same as the regular "Markdown" formatter, except that<br />
automatically uses SmartyPants to create typographically correct<br />
curly quotes, em-dashes, and ellipses. See the SmartyPants web page<br />
for more information: <a href="http://daringfireball.net/projects/smartypants/">http://daringfireball.net/projects/smartypants/</a></p></li>
<li><p>To make Markdown (or "Markdown with SmartyPants") your default<br />
text formatting option for new posts, go to Weblog Config -><br />
Preferences.</p></li>
</ol>
Note that by default, Markdown produces XHTML output. To configure
Markdown to produce HTML 4 output, see "Configuration", below.

<p><h3>Blosxom</h3></p>

<p>Markdown works with Blosxom version 2.x.</p>

<p><ol>
<li><p>Rename the "Markdown.pl" plug-in to "Markdown" (case is<br /><br />
important). Movable Type requires plug-ins to have a ".pl"<br /><br />
extension; Blosxom forbids it.</p></li>
<li><p>Copy the "Markdown" plug-in file to your Blosxom plug-ins folder.<br /><br />
If you're not sure where your Blosxom plug-ins folder is, see the<br /><br />
Blosxom documentation for information.</p></li>
<li><p>That's it. The entries in your weblog will now automatically be<br /><br />
processed by Markdown.</p></li>
<li><p>If you'd like to apply Markdown formatting only to certain posts,<br /><br />
rather than all of them, see Jason Clark's instructions for using<br /><br />
Markdown in conjunction with Blosxom's Meta plugin:</p></p>

<p><p><a href="http://jclark.org/weblog/WebDev/Blosxom/Markdown.html"><a href="http://jclark.org/weblog/WebDev/Blosxom/Markdown.html">http://jclark.org/weblog/WebDev/Blosxom/Markdown.html</a></a></p></li>
</ol>
<h3>BBEdit</h3></p>

<p>Markdown works with BBEdit 6.1 or later on Mac OS X. (It also works<br />
with BBEdit 5.1 or later and MacPerl 5.6.1 on Mac OS 8.6 or later.)</p>

<p><ol>
<li><p>Copy the "Markdown.pl" file to appropriate filters folder in your<br /><br />
"BBEdit Support" folder. On Mac OS X, this should be:</p></p>

<pre><code>
BBEdit Support/Unix Support/Unix Filters/
</code></pre>

<p><p>See the BBEdit documentation for more details on the location of<br /><br />
these folders.</p></p>

<p><p>You can rename "Markdown.pl" to whatever you wish.</p></li>
<li><p>That's it. To use Markdown, select some text in a BBEdit document,<br /><br />
then choose Markdown from the Filters sub-menu in the "#!" menu, or<br /><br />
the Filters floating palette</p></li>
</ol>
<h2>Configuration</h2></p>

<p>By default, Markdown produces XHTML output for tags with empty elements.<br />
E.g.:</p>

<pre><code>
&lt;br /&gt;
</code></pre>

<p>Markdown can be configured to produce HTML-style tags; e.g.:</p>

<pre><code>
&lt;br&gt;
</code></pre>

<p><h3>Movable Type</h3></p>

<p>You need to use a special <code>MTMarkdownOptions</code> container tag in each<br />
Movable Type template where you want HTML 4-style output:</p>

<pre><code>
&lt;MTMarkdownOptions output='html4'&gt;
    ... put your entry content here ...
&lt;/MTMarkdownOptions&gt;
</code></pre>

<p>The easiest way to use MTMarkdownOptions is probably to put the<br />
opening tag right after your <code>&lt;body&gt;</code> tag, and the closing tag right<br />
before <code>&lt;/body&gt;</code>.</p>

<p>To suppress Markdown processing in a particular template, i.e. to<br />
publish the raw Markdown-formatted text without translation into<br />
(X)HTML, set the <code>output</code> attribute to 'raw':</p>

<pre><code>
&lt;MTMarkdownOptions output='raw'&gt;
    ... put your entry content here ...
&lt;/MTMarkdownOptions&gt;
</code></pre>

<p><h3>Command-Line</h3></p>

<p>Use the <code>--html4tags</code> command-line switch to produce HTML output from a<br />
Unix-style command line. E.g.:</p>

<pre><code>
% perl Markdown.pl --html4tags foo.text
</code></pre>

<p>Type <code>perldoc Markdown.pl</code>, or read the POD documentation within the<br />
Markdown.pl source code for more information.</p>

<p><h2>Bugs</h2></p>

<p>To file bug reports or feature requests please send email to:<br />
markdown@daringfireball.net.</p>

<p><h2>Version History</h2></p>

<p>1.0.1 (14 Dec 2004):</p>

<p><ul>
<li><p>Changed the syntax rules for code blocks and spans. Previously,<br /><br />
backslash escapes for special Markdown characters were processed<br /><br />
everywhere other than within inline HTML tags. Now, the contents<br /><br />
of code blocks and spans are no longer processed for backslash<br /><br />
escapes. This means that code blocks and spans are now treated<br /><br />
literally, with no special rules to worry about regarding<br /><br />
backslashes.</p></p>

<p><p><strong>NOTE</strong>: This changes the syntax from all previous versions of<br /><br />
Markdown. Code blocks and spans involving backslash characters<br /><br />
will now generate different output than before.</p></li>
<li><p>Tweaked the rules for link definitions so that they must occur<br /><br />
within three spaces of the left margin. Thus if you indent a link<br /><br />
definition by four spaces or a tab, it will now be a code block.</p></p>

<p><p><pre><code><br /><br />
   [a]: /url/  "Indented 3 spaces, this is a link def"</p></p>

<pre><code>
[b]: /url/  "Indented 4 spaces, this is a code block"
</code></pre>

</code></pre>

<p><strong>IMPORTANT</strong>: This may affect existing Markdown content if it<br />
contains link definitions indented by 4 or more spaces.</p></li>
<li><p>Added <code>&gt;</code>, <code>+</code>, and <code>-</code> to the list of backslash-escapable<br />
characters. These should have been done when these characters<br />
were added as unordered list item markers.</p></li>
<li><p>Trailing spaces and tabs following HTML comments and <code>&lt;hr/&gt;</code> tags<br />
are now ignored.</p></li>
<li><p>Inline links using <code>&lt;</code> and <code>&gt;</code> URL delimiters weren't working:</p>

<pre><code>
like [this](&lt;http://example.com/&gt;)
</code></pre></li>
<li><p>Added a bit of tolerance for trailing spaces and tabs after<br />
Markdown hr's.</p></li>
<li><p>Fixed bug where auto-links were being processed within code spans:</p>

<pre><code>
like this: `&lt;http://example.com/&gt;`
</code></pre></li>
<li><p>Sort-of fixed a bug where lines in the middle of hard-wrapped<br />
paragraphs, which lines look like the start of a list item,<br />
would accidentally trigger the creation of a list. E.g. a<br />
paragraph that looked like this:</p>

<pre><code>
I recommend upgrading to version
8. Oops, now this line is treated
as a sub-list.
</code></pre>

<p><p>This is fixed for top-level lists, but it can still happen for<br /><br />
sub-lists. E.g., the following list item will not be parsed<br /><br />
properly:</p></p>

<pre><code>
+   I recommend upgrading to version
    8. Oops, now this line is treated
    as a sub-list.
</code></pre>

<p>Given Markdown's list-creation rules, I'm not sure this can<br />
be fixed.</p></li>
<li><p>Standalone HTML comments are now handled; previously, they'd get<br />
wrapped in a spurious <code>&lt;p&gt;</code> tag.</p></li>
<li><p>Fix for horizontal rules preceded by 2 or 3 spaces.</p></li>
<li><p><code>&lt;hr&gt;</code> HTML tags in must occur within three spaces of left<br />
margin. (With 4 spaces or a tab, they should be code blocks, but<br />
weren't before this fix.)</p></li>
<li><p>Capitalized "With" in "Markdown With SmartyPants" for<br />
consistency with the same string label in SmartyPants.pl.<br />
(This fix is specific to the MT plug-in interface.)</p></li>
<li><p>Auto-linked email address can now optionally contain<br />
a 'mailto:' protocol. I.e. these are equivalent:</p>

<pre><code>
&lt;mailto:user@example.com&gt;
&lt;user@example.com&gt;
</code></pre></li>
<li><p>Fixed annoying bug where nested lists would wind up with<br />
spurious (and invalid) <code>&lt;p&gt;</code> tags.</p></li>
<li><p>You can now write empty links:</p>

<pre><code>
[like this]()
</code></pre>

<p>and they'll be turned into anchor tags with empty href attributes.<br />
This should have worked before, but didn't.</p></li>
<li><p><code>***this***</code> and <code>___this___</code> are now turned into</p>

<pre><code>
&lt;strong&gt;&lt;em&gt;this&lt;/em&gt;&lt;/strong&gt;
</code></pre>

<p><p>Instead of</p></p>

<pre><code>
&lt;strong&gt;&lt;em&gt;this&lt;/strong&gt;&lt;/em&gt;
</code></pre>

<p>which isn't valid. (Thanks to Michel Fortin for the fix.)</p></li>
<li><p>Added a new substitution in <code>_EncodeCode()</code>: s/\$/&#036;/g; This<br />
is only for the benefit of Blosxom users, because Blosxom<br />
(sometimes?) interpolates Perl scalars in your article bodies.</p></li>
<li><p>Fixed problem for links defined with urls that include parens, e.g.:</p>

<pre><code>
[1]: http://sources.wikipedia.org/wiki/Middle_East_Policy_(Chomsky)
</code></pre>

<p><p>"Chomsky" was being erroneously treated as the URL's title.</p></li>
<li><p>At some point during 1.0's beta cycle, I changed every sub's<br /><br />
argument fetching from this idiom:</p></p>

<pre><code>
my $text = shift;
</code></pre>

<p><p>to:</p></p>

<pre><code>
my $text = shift || return '';
</code></pre>

<p><p>The idea was to keep Markdown from doing any work in a sub<br /><br />
if the input was empty. This introduced a bug, though:<br /><br />
if the input to any function was the single-character string<br /><br />
"0", it would also evaluate as false and return immediately.<br /><br />
How silly. Now fixed.</p></li>
</ul>
<h2>Donations</h2></p>

<p>Donations to support Markdown's development are happily accepted. See:<br />
<a href="http://daringfireball.net/projects/markdown/">http://daringfireball.net/projects/markdown/</a> for details.</p>

<p><h2>Copyright and License</h2></p>

<p>Copyright (c) 2003-2004 John Gruber   <br />
<a href="http://daringfireball.net/">http://daringfireball.net/</a>   <br />
All rights reserved.</p>

<p>Redistribution and use in source and binary forms, with or without<br />
modification, are permitted provided that the following conditions are<br />
met:</p>

<p><ul>
<li><p>Redistributions of source code must retain the above copyright notice,<br /><br />
this list of conditions and the following disclaimer.</p></li>
<li><p>Redistributions in binary form must reproduce the above copyright<br /><br />
notice, this list of conditions and the following disclaimer in the<br /><br />
documentation and/or other materials provided with the distribution.</p></li>
<li><p>Neither the name "Markdown" nor the names of its contributors may<br /><br />
be used to endorse or promote products derived from this software<br /><br />
without specific prior written permission.</p></li>
</ul>
This software is provided by the copyright holders and contributors "as<br />
is" and any express or implied warranties, including, but not limited<br />
to, the implied warranties of merchantability and fitness for a<br />
particular purpose are disclaimed. In no event shall the copyright owner<br />
or contributors be liable for any direct, indirect, incidental, special,<br />
exemplary, or consequential damages (including, but not limited to,<br />
procurement of substitute goods or services; loss of use, data, or<br />
profits; or business interruption) however caused and on any theory of<br />
liability, whether in contract, strict liability, or tort (including<br />
negligence or otherwise) arising in any way out of the use of this<br />
software, even if advised of the possibility of such damage.</p>
